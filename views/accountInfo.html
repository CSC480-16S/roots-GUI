<!DOCTYPE html>
<html lang="en" ng-app="">

<head>
    <meta charset="UTF-8">
    <title>Account Info</title>
    <link href='https://fonts.googleapis.com/css?family=Andada' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Roboto:500italic,300' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="../assets/css/normalize.css">
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/treeStyles.css">
</head>

<body>
<header>
    <a href="login.html" class="header-logo">
        <img id="logo-img" src="../assets/images/logo.png">
    </a>


    <div class="dropdown">
        <input class="hamburger" type="image" src="../assets/images/hamburger.png" onclick="myFunction()">
        <div class="dropdown-content" id="Dropdown">
            <a href="#">Log Out</a>
            <a href="mailto:rootsspammer@gmail.com">Contact Us</a>
            <a href="about.html">About</a>
        </div>
    </div>

    <script>
        function myFunction() {
            document.getElementById("Dropdown").classList.toggle("show");
        }
        window.onclick = function(e) {
            if (!e.target.matches('.hamburger')) {

                var dropdowns = document.getElementsByClassName("dropdown-content");
                for (var d = 0; d < dropdowns.length; d++) {
                    var openDropdown = dropdowns[d];
                    if (openDropdown.classList.contains('show')) {
                        openDropdown.classList.remove('show');
                    }
                }
            }
        }
    </script>


    <nav>
        <ul>
            <li><a href="treeViewer.html"> Tree Viewer </a></li>

        </ul>
    </nav>
</header>


<div class="aboutform" ng-controller="accountInfoController">
    <div id="Profile Info">


        <h1>{{node.first_name}} {{node.last_name}}</h1> <!-- populate with name -->

        <div class="content">
            <div class="leftForm">
                <div class="profileoptions">
                    <img ng-src="http://myroots.xyz/images/{{node.image}}" alt="Profile Image" />
                    <button> Edit Profile</button>
                </div>
            </div>

            <div class="rightForm">
                <div class="field-wrap-temp">
                    <p>Place of Birth: {{node.municipality_of_birth}}, {{node.state_of_birth}} </p>
                </div>
                <div class="field-wrap-temp">
                    <p>Country of Birth: {{node.country_of_birth}}</p>
                </div>
                <div class="field-wrap-temp">
                    <p>Date of Birth: {{node.date_of_birth}}</p>
                </div>
                <div class="field-wrap-temp">
                    <p>Bio: {{node.bio}}</p>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
<script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script src="../assets/js/login.js"></script>

<script>

    // Here is the controller that will display information of the account
    // Node is assumed to be the user
    var app = angular.module("accountInfo",[]);
    app.controller('accountInfoController',function($scope, $http){
        $http.get("/getProfileInfo").then(function (response){
            $scope.node = response.data.user;
        });
    });
</script>

</body>
</html>
